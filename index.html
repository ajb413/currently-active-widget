<!DOCTYPE html>
<html>
<head>
  <title>Currently Active Demo</title>
  <style type="text/css">
    .currently-active {
      position: fixed;
      margin: 10px;
      padding: 5px;
      bottom: 0;
      left: 0;
      border: solid 1px #AFAFAF;
      border-radius: 6px;
      font-family: "Arial";
    }
  </style>
</head>
<body>
  <div class="currently-active">
    <span>Currently Active: </span><span id="active"></span>
  </div>
</body>

<script src="https://cdn.pubnub.com/sdk/javascript/pubnub.4.20.2.js"></script>
<script type="text/javascript">

var active = document.getElementById('active');

function setCurrentlyActiveUsers(numberOfUsers) {
  active.innerText = numberOfUsers.toString();
}

setCurrentlyActiveUsers(1);

var pubnub = new PubNub({
    publishKey : 'pub-c-adc73554-20e8-4129-ade9-cd6120788b0c',
    subscribeKey : 'sub-c-a4867074-28d3-11e8-ae0d-3a0cea6ae1c4',
    heartbeatInterval: 30
});

pubnub.addListener({
  presence: function(presenceEvent) {
    setCurrentlyActiveUsers(presenceEvent.occupancy);
  }
});

pubnub.subscribe({ 
  channels: ['myWebPage1'],
  withPresence: true
});

</script>

</html>